{% load static %}

<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet" />

    <link href="{% static 'plugins/global/plugins.bundle.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'css/style.bundle.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'css/custom.css' %}" rel="stylesheet" type="text/css" />
    <link rel="icon" type="image/x-icon" href="{% static 'media/favicon.ico' %}" />
    <script src="{% static 'js/custom.js' %}"></script>

    <!-- Additional Stylesheets -->
    {% block styles %}{% endblock %}

    <title>BarHop - {% block title %}{% endblock %}</title>
  </head>

  <body style="margin-top: 75px;">
    <nav class="d-flex bg-gray-100 border-bottom border-top border-gray-200 px-5 px-sm-12 align-items-center justify-content-between w-100 z-index-2 position-fixed h-sm-75px h-fit py-sm-0 py-5">
      <!-- Left of Nav -->
      <a class="d-sm-flex d-none gap-3 h-40px align-items-center" href="/">
        <span class="fw-bolder fs-1 text-gray-900 text-hover-info" style="font-family: 'Poppins';">BarHop</span>
      </a>

      <!-- Links -->
      <div class="d-flex flex-row justify-content-around w-100 w-sm-fit fs-6 fw-semibold position-relative">
        <a class="nav-link text-hover-info px-5 py-0 py-sm-3 d-flex flex-column align-items-center w-100px w-sm-fit {% if request.path == '/bars/' %} active{% endif %}" href="/">
          <i class="ki-outline ki-home fs-2 d-sm-none"></i>
          <span class="fs-sm-6 fs-8 pt-1 p-sm-0">Home</span>
        </a>
        <a class="nav-link text-hover-info px-5 py-0 py-sm-3 d-flex flex-column align-items-center w-100px w-sm-fit {% if "/my-bars" in request.path %} active{% endif %}" href="#">
          <i class="ki-outline ki-shop fs-2 d-sm-none"></i>
          <span class="fs-sm-6 fs-8 pt-1 p-sm-0">My Bars</span>
        </a>
        <a class="nav-link text-hover-info px-5 py-0 py-sm-3 d-flex flex-column align-items-center w-100px w-sm-fit {% if "/reservations" in request.path %} active{% endif %}" href="#">
          <i class="ki-outline ki-cheque fs-2 d-sm-none"></i>
          <span class="fs-sm-6 fs-8 pt-1 p-sm-0">Reservations</span>
        </a>
        <span class="nav-hover-pill d-sm-block d-none bg-info bg-opacity-15 border-info border-opacity-50 start-0 position-absolute h-100 z-index-n1 rounded-pill"></span>
      </div>

      <!-- Right of Nav -->
      <div class="d-sm-flex d-none flex-row gap-3">
        {% if request.user.is_authenticated %}
          <div class="d-flex flex-row align-items-center gap-4" data-kt-menu-trigger="{default:'click', lg:'hover'}" data-kt-menu-placement="bottom" data-kt-menu-offset="0,20">
            <div class="w-40px h-40px d-flex align-items-center justify-content-center rounded-circle bg-gray-300">
              <span class="fs-2 fw-semibold text-gray-700 text-center">{{ user.username|slice:"0:1" }}</span>
            </div>
            <div class="d-flex flex-column">
              <span class="text-gray-600 fw-semibold fs-7 text-nowrap">Welcome back,</span>
              <span class="text-gray-800 fs-6 fw-bold d-flex align-items-center text-nowrap">
                {{ user.username }}
              </span>
            </div>
            <i class="fs-1 text-gray-600 ki-solid ki-down hover-rotate-180"></i>
          </div>
          <div class="menu menu-sub menu-sub-dropdown menu-gray-700 menu-hover-primary menu-hover-bg menu-rounded fw-semibold p-3 w-150px" data-kt-menu="true">
            <div class="menu-item">
              <form method="POST" action="{% url 'logout' %}" class="d-flex m-0">
                {% csrf_token %}
                <button class="menu-link" type="submit">
                  <span class="menu-icon">
                    <i class="ki-duotone ki-exit-right fs-2">
                    <span class="path1"></span>
                    <span class="path2"></span>
                    </i>
                  </span>
                  <span class="menu-title">Logout</span>
                </button>
              </form>
            </div>
          </div>
        {% else %}
          <a href="{% url 'auth:register' %}" class="btn btn-info btn-sm text-nowrap rounded-pill">Sign Up</a>       
        {% endif %}
      </div>
    </nav>

    {% block content %}

    {% endblock %}
    
    <!-- Global Javascript Bundles -->
    <script src="{% static 'plugins/global/plugins.bundle.js' %}"></script>
    <script src="{% static 'js/scripts.bundle.js' %}"></script>

    <!-- Additional Javascript -->
    {% block scripts %}{% endblock %}
  </body>
</html>
